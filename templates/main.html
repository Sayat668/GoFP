<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management</title>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>User Management</h1>

    <!-- Форма добавления пользователя -->
    <div id="addUserForm">
        <h2>Create User:</h2>
        <form action="/create-user" method="POST"> <!-- Добавляем тег <form> здесь -->
            <label for="name">Name:</label>
            <input type="text" id="name" name="name"><br><br>
            <label for="email">Email:</label>
            <input type="text" id="email" name="email"><br><br>
            <label for="age">Age:</label>
            <input type="number" id="age" name="age"><br><br>
            <button type="submit">Add User</button> <!-- Добавляем кнопку submit с типом "submit" -->
            
        </form> <!-- Закрываем тег <form> здесь -->
        <button onclick="showUpdateForm()">Update User</button>
    </div>

    <!-- Форма обновления данных пользователя -->
    <div id="updateUserForm" class="hidden">
        <h2>Update User:</h2>
        <form action="/update-user" method="POST"> <!-- Добавляем тег <form> здесь -->
            <label for="userId">User ID:</label>
            <input type="text" id="userId" name="userId"><br><br>
            <label for="newName">New Name:</label>
            <input type="text" id="newName" name="newName"><br><br>
            <label for="newEmail">New Email:</label>
            <input type="text" id="newEmail" name="newEmail"><br><br>
            <label for="newAge">New Age:</label>
            <input type="number" id="newAge" name="newAge"><br><br>
            <button type="submit">Update User</button> <!-- Добавляем кнопку submit с типом "submit" -->
            
        </form> <!-- Закрываем тег <form> здесь -->
        <button onclick="showAddForm()">Add User</button>
    </div>
    <div id="message" style="color: green;">{{.Message}}</div>
    <hr>
    <script>
        function showUpdateForm() {
            document.getElementById("addUserForm").classList.add("hidden");
            document.getElementById("updateUserForm").classList.remove("hidden");
        }

        function showAddForm() {
            document.getElementById("updateUserForm").classList.add("hidden");
            document.getElementById("addUserForm").classList.remove("hidden");
        }
    </script>
    <h2>All Users</h2>
    <form action="/get-user-by-id" method="GET">
        <label for="userID">Search user by ID:</label>
        <input type="text" id="userID" name="userID" pattern="\d+" title="Please enter a number">
        <button type="submit">Search</button>
    </form>
    
        <div style="border: 1px solid black; padding: 10px; width: 40%;">
            <table style="width: 100%;">
                <tr>
                    <td style="padding: 5px;"><strong>ID:</strong></td>
                    <td style="padding: 5px;"><strong>Name:</strong></td>
                    <td style="padding: 5px;"><strong>Email:</strong></td>
                    <td style="padding: 5px;"><strong>Age:</strong></td>
                </tr>
        {{range .users}}
            
                    <tr>
                        <td style="padding: 5px;">{{.ID}}</td>
                        <td style="padding: 5px;">{{.Name}}</td>
                        <td style="padding: 5px;">{{.Email}}</td>
                        <td style="padding: 5px;">{{.Age}}</td>
                    </tr>
                
        {{end}}
    </table>
</div>
</body>
</html>
